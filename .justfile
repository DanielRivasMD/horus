####################################################################################################

_default:
  @just --list

####################################################################################################

# print justfile
[group('just')]
@show:
  bat .justfile --language make

####################################################################################################

# edit justfile
[group('just')]
@edit:
  micro .justfile

####################################################################################################

# compile roadmap action items
[group('dev')]
@todor:
  if [[ ! -f 'ROADMAP.txt' ]]; then touch 'ROADMAP.txt'; fi
  sed -i '' '/^==================================================$/,/^==================================================$/d' ROADMAP.txt
  { printf '==================================================\n'; todor -s; printf '==================================================\n'; } >> ROADMAP.txt


####################################################################################################
# import
####################################################################################################

# config
import '.just/go.conf'

####################################################################################################
# jobs
####################################################################################################

# install locally
[group('dev')]
build: 
  @echo "\n\033[1;33mBuilding\033[0;37m...\n=================================================="
  go build *.go

####################################################################################################

# watch changes
[group('dev')]
watch:
  watchexec --clear --watch horus.go --watch error.go --watch helper.go --watch format.go --watch notFoundAction.go --watch nullAction.go --watch logNotFound.go --watch checkErr.go -- 'just build'

####################################################################################################
