////////////////////////////////////////////////////////////////////////////////////////////////////

package horus

////////////////////////////////////////////////////////////////////////////////////////////////////

import (
	"fmt"
	"os"
)

////////////////////////////////////////////////////////////////////////////////////////////////////

// CheckErr reports errors using the horus library and exits gracefully.
func CheckErr(err error) {
	if err != nil {
		herr := NewCategorizedHerror(
			"check error",
			"runtime_error",
			"An error occurred during execution",
			err,
			map[string]any{"severity": "critical", "location": "checkErr function"},
		)

		// Log the error in JSON format for debugging
		fmt.Println(FormatError(herr, JSONFormatter))
		os.Exit(1) // Exit gracefully
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////

